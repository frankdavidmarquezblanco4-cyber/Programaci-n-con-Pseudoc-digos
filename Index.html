<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fundamentos de Programaci贸n</title>
    <!-- Fuente Open Sans para legibilidad educativa -->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* Paleta de Colores: Clean Educational */
        :root {
            --color-bg-light: #f7f9fc; 
            --color-primary-blue: #1976d2; 
            --color-secondary-cyan: #00bcd4; 
            --color-text-dark: #2c3e50; 
            --color-card-bg: #fff;
            --color-hover-shadow: rgba(25, 118, 210, 0.25);
            --color-code-bg: #e8f5e9; 
            --color-info-card: #e3f2fd; 
            --color-success: #4caf50; 
            --color-error: #f44336; 
            --color-action: #ff9800; /* Naranja para botones de acci贸n */
            --color-placeholder: #cfd8dc; /* Gris claro para placeholders */
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Open Sans', sans-serif;
            background-color: var(--color-bg-light);
            color: var(--color-text-dark);
            line-height: 1.7; 
        }

        /* ------------------ NAVEGACIN PEGADIZA (STICKY) ------------------ */
        .navbar {
            position: sticky;
            top: 0;
            z-index: 1000;
            background-color: var(--color-card-bg);
            border-bottom: 4px solid var(--color-primary-blue); 
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 0.75rem 0;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap; 
            justify-content: center;
            align-items: center;
            padding: 0 1rem;
        }

        .nav-link {
            text-decoration: none;
            color: var(--color-primary-blue);
            font-weight: 700;
            padding: 0.5rem 0.8rem;
            margin: 0.25rem 0.5rem;
            border-radius: 20px; 
            transition: background-color 0.3s, color 0.3s;
            text-transform: uppercase;
            font-size: 0.85rem;
        }

        .nav-link:hover {
            background-color: var(--color-secondary-cyan);
            color: var(--color-card-bg);
        }

        /* ------------------ ESTRUCTURA PRINCIPAL ------------------ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        /* Header / Hero Section */
        header {
            text-align: center;
            padding: 5rem 2rem;
            background: var(--color-primary-blue);
            color: white;
            margin-bottom: 2.5rem;
            border-radius: 12px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        header h1 {
            font-size: 2.8rem;
            font-weight: 800;
            margin-bottom: 0.75rem;
            letter-spacing: 1px;
        }

        /* Secci贸n de Componentes (Tarjetas) */
        .component-section {
            background-color: var(--color-card-bg);
            padding: 3rem;
            margin-bottom: 2rem;
            border-radius: 16px; 
            border: 1px solid #e0e0e0; 
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.3s;
        }

        .component-section:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px var(--color-hover-shadow);
        }

        .component-section h2 {
            color: var(--color-secondary-cyan);
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            border-left: 6px solid var(--color-secondary-cyan); 
            padding-left: 1rem;
            line-height: 1.2;
        }

        /* Contenedor flexible para ejemplos */
        .details-list {
            list-style-type: none;
            margin-top: 1.5rem;
        }
        
        .details-list li {
            background-color: var(--color-info-card);
            border-left: 5px solid var(--color-primary-blue);
            padding: 1rem 1.5rem;
            margin-bottom: 1rem;
            border-radius: 8px;
            font-weight: 600;
        }
        
        .details-list p {
            font-weight: 400;
            margin-top: 0.5rem;
            border-top: 1px dashed #bbdefb;
            padding-top: 0.5rem;
        }

        /* Estilo para bloques de c贸digo */
        .code-block {
            background-color: var(--color-code-bg);
            border: 1px solid #b2dfdb; 
            padding: 1.2rem;
            border-radius: 6px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monospace', monospace;
            white-space: pre-wrap; 
            color: #004d40; 
            font-size: 1rem;
            box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.05);
        }
        
        /* Contenedor de imagen y estilos de imagen */
        .visual-container {
            text-align: center;
            border: 1px solid #ccc;
            border-radius: 8px;
            overflow: hidden;
            padding: 5px; 
            min-height: 250px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .visual-container img {
            max-width: 100%;
            height: auto;
            display: block;
            border-radius: 6px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        /* Placeholder para contenido sin imagen */
        .placeholder-box {
            background-color: var(--color-placeholder);
            color: var(--color-text-dark);
            padding: 20px;
            border-radius: 8px;
            width: 90%;
            font-weight: 600;
            font-style: italic;
        }


        /* ------------------ INTERACTIVOS PSeInt ------------------ */

        .interactive-area {
            background-color: #fff8e1; /* Amarillo p谩lido para interactividad */
            border: 2px solid var(--color-action);
            padding: 1.5rem;
            border-radius: 10px;
            margin-top: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .interactive-area label {
            font-weight: 600;
            display: block;
            margin-bottom: 0.5rem;
        }

        .interactive-area input[type="number"], .interactive-area input[type="text"] {
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: 100%;
            max-width: 200px; /* Limitar el ancho de los inputs */
        }

        .interactive-output {
            margin-top: 1rem;
            padding: 1rem;
            border: 1px solid #ddd;
            background-color: #e0e0e0;
            min-height: 40px;
            font-family: 'Consolas', monospace;
            color: var(--color-text-dark);
            white-space: pre-wrap;
        }

        .action-button {
            background-color: var(--color-action);
            color: white;
            padding: 0.6rem 1.2rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 700;
            transition: background-color 0.3s, transform 0.1s;
        }

        .action-button:hover {
            background-color: #fb8c00;
            transform: translateY(-1px);
        }


        /* ------------------ CUESTIONARIO (Estilos Detallados de Resultados) ------------------ */

        #quiz-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        /* Bot贸n para generar un nuevo cuestionario */
        #new-quiz-button {
            background-color: var(--color-secondary-cyan);
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 700;
            transition: background-color 0.3s, transform 0.1s;
            margin-top: 1rem;
            margin-bottom: 2rem;
            align-self: flex-start;
        }
        
        #new-quiz-button:hover {
             background-color: #008c9e; 
            transform: translateY(-2px);
        }

        .question-card {
            background-color: #f0f8ff; 
            padding: 1.5rem;
            border-radius: 10px;
            border: 1px solid var(--color-primary-blue);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            position: relative; /* Para la marca de estado */
        }

        .question-card p {
            font-weight: 600;
            color: var(--color-text-dark);
            margin-bottom: 1rem;
        }

        .options-group label {
            display: block;
            margin-bottom: 0.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 5px;
            transition: background-color 0.2s;
            position: relative;
        }
        
        /* Ocultar inputs/radios en el modo de revisi贸n para dar formato */
        .options-group.reviewed label {
            cursor: default;
            padding-left: 1rem;
        }

        .options-group.reviewed input[type="radio"] {
            display: none;
        }

        .options-group label:hover:not(.reviewed label) {
            background-color: #e3f2fd;
        }

        .options-group input[type="radio"] {
            margin-right: 0.75rem;
            accent-color: var(--color-primary-blue);
        }

        .submit-button {
            background-color: var(--color-success);
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 700;
            transition: background-color 0.3s, transform 0.1s;
            align-self: flex-start;
        }

        .submit-button:hover {
            background-color: #388e3c; 
            transform: translateY(-2px);
        }

        #results {
            margin-top: 2rem;
            padding: 1.5rem;
            border-radius: 10px;
            font-weight: 700;
            text-align: center;
            font-size: 1.2rem;
            border: 2px solid;
        }

        .result-success {
            background-color: #e8f5e9;
            border-color: var(--color-success);
            color: var(--color-success);
        }

        .result-fail {
            background-color: #ffebee;
            border-color: var(--color-error);
            color: var(--color-error);
        }

        /* Estilos de la Revisi贸n Detallada */
        #detailed-results {
            margin-top: 2rem;
        }
        
        .result-item {
            border: 1px solid #ccc;
            margin-bottom: 1.5rem;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .result-item.correct {
            border-left: 5px solid var(--color-success);
            background-color: #f6fff6;
        }

        .result-item.incorrect {
            border-left: 5px solid var(--color-error);
            background-color: #fffafa;
        }

        .result-item h4 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: var(--color-primary-blue);
        }

        .result-detail {
            margin-top: 0.5rem;
            padding: 0.75rem;
            border-radius: 6px;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .user-choice, .correct-answer, .rationale-text {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 400;
        }
        
        .correct-answer {
            color: var(--color-success);
            font-weight: 700;
        }

        .user-choice.wrong {
            color: var(--color-error);
            font-weight: 700;
        }

        .rationale-text {
            color: var(--color-text-dark);
            border-top: 1px dashed #ddd;
            padding-top: 0.5rem;
            margin-top: 0.75rem;
            font-style: italic;
        }


        footer {
            text-align: center;
            padding: 2rem;
            background-color: #d8e6f3; 
            color: var(--color-text-dark);
            margin-top: 3rem;
            border-radius: 12px 12px 0 0;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>

    <!-- Barra de Navegaci贸n Pegadiza (Sticky Navbar) -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#inicio" class="nav-link">Inicio</a>
            <a href="#pseudocodigo" class="nav-link">Pseudoc贸digo</a>
            <a href="#dfd" class="nav-link">DFD (Diagramas)</a>
            <a href="#psint" class="nav-link">PSeInt (Ejecuci贸n)</a>
            <a href="#scratch" class="nav-link">Scratch (Bloques)</a>
            <a href="#glosario" class="nav-link">Glosario</a>
            <a href="#cuestionario" class="nav-link">Cuestionario</a>
        </div>
    </nav>

    <div class="container">
        
        <!-- Header / Secci贸n de Inicio -->
        <header id="inicio">
            <h1> Fundamentos de Programaci贸n: L贸gica y Herramientas</h1>
            <p>Aprende la l贸gica de programaci贸n b谩sica y las herramientas esenciales para construir tus primeros algoritmos.</p>
        </header>

        <!-- Secci贸n 1: El Pseudoc贸digo (Base Te贸rica) -->
        <section id="pseudocodigo" class="component-section">
            <h2>1. El Pseudoc贸digo: El Lenguaje del Pensamiento</h2>
            <p>El pseudoc贸digo es el primer borrador de un programa. Act煤a como un puente entre nuestro lenguaje natural (espa帽ol) y el lenguaje que la computadora entiende. Su objetivo principal es permitirte concentrarte exclusivamente en la **l贸gica del algoritmo** (qu茅 hacer y en qu茅 orden), sin la rigidez de la sintaxis de un lenguaje de programaci贸n real.</p>
            
            <p><strong>驴C贸mo se utiliza?</strong></p>
            <p>Se estructura t铆picamente en cuatro pasos fundamentales que reflejan la ejecuci贸n de cualquier programa:</p>
            <ul class="details-list">
                <li>
                    Definici贸n
                    <p>En esta etapa, se declaran todas las **variables** y **constantes** que se usar谩n en el programa, especificando su tipo de dato (Entero, Real, Car谩cter, L贸gico).</p>
                </li>
                <li>
                    Entrada de Datos (Input)
                    <p>Son las instrucciones que permiten al algoritmo recibir informaci贸n del exterior, usualmente del usuario (e.g., usando la instrucci贸n <code>Leer</code>). Esto hace que el programa sea din谩mico.</p>
                </li>
                <li>
                    Proceso / L贸gica
                    <p>Es el coraz贸n del algoritmo. Aqu铆 se realizan los c谩lculos, las asignaciones de variables y se implementan las **estructuras de control de flujo** (condicionales y bucles) que definen el comportamiento del programa.</p>
                </li>
                <li>
                    Salida de Resultados (Output)
                    <p>Se utilizan instrucciones para mostrar los resultados, mensajes o estados finales del programa al usuario (e.g., usando la instrucci贸n <code>Escribir</code>).</p>
                </li>
            </ul>
        </section>
        
        <!-- Secci贸n 2: DFD - Diagramas de Flujo de Datos (3 Ejemplos con Im谩genes) -->
        <section id="dfd" class="component-section">
            <h2>2. DFD: El Flujo Visual de la L贸gica</h2>
            <p>El Diagrama de Flujo de Datos (DFD) es una representaci贸n gr谩fica de tu pseudoc贸digo. Es una herramienta poderosa para **visualizar la secuencia de ejecuci贸n**, facilitando la detecci贸n de errores de l贸gica (bugs) y asegurando que cada paso se conecte correctamente.</p>
            
            <p><strong>驴C贸mo se utiliza?</strong></p>
            <p>Se utiliza un conjunto de s铆mbolos geom茅tricos estandarizados, interconectados por flechas, para mostrar la direcci贸n del flujo. Los cuatro s铆mbolos principales son:</p>
            <ul class="details-list">
                <li>
                    valo (Terminador)
                    <p>Marca el punto de **INICIO** y el punto de **FIN** del algoritmo. Siempre hay uno de inicio y uno de fin.</p>
                </li>
                <li>
                    Paralelogramo (Entrada/Salida)
                    <p>Representa las operaciones de **interacci贸n con el usuario**, como la lectura de datos (Entrada) o la impresi贸n de resultados (Salida) en la pantalla.</p>
                </li>
                <li>
                    Rect谩ngulo (Proceso)
                    <p>Representa cualquier **operaci贸n interna** del algoritmo: c谩lculos matem谩ticos, asignaciones de variables y procesamiento de datos.</p>
                </li>
                <li>
                    Rombo (Decisi贸n/Condicional)
                    <p>Introduce una **pregunta l贸gica** (una condici贸n). El flujo se bifurca en dos o m谩s caminos (Verdadero/Falso) dependiendo del resultado de la condici贸n, implementando la estructura <code>Si-Entonces-SiNo</code>.</p>
                </li>
            </ul>
            <p style="margin-top: 1.5rem; font-style: italic;">[Image of basic DFD symbols] La visualizaci贸n es clave: las flechas (l铆neas de flujo) gu铆an la ejecuci贸n desde el inicio hasta el fin, asegurando que la l贸gica no tenga cabos sueltos.</p>
        </section>

        <!-- Secci贸n 3: PSeInt - Practicando el Pseudoc贸digo (3 Ejemplos) -->
        <section id="psint" class="component-section">
            <h2>3. PSeInt: El Laboratorio de Ejecuci贸n</h2>
            <p>PSeInt (PSeudo Int茅rprete) es un software educativo gratuito dise帽ado para ayudar a los estudiantes a dar sus primeros pasos en programaci贸n, utilizando el pseudoc贸digo en espa帽ol.</p>
            
            <p><strong>驴C贸mo se utiliza?</strong></p>
            <ul class="details-list">
                <li>
                    Escritura y Verificaci贸n
                    <p>Permite escribir pseudoc贸digo de forma estructurada. El programa resalta la sintaxis y advierte sobre errores comunes (como el uso incorrecto de may煤sculas/min煤sculas o el cierre de estructuras). Esto refuerza la pr谩ctica de la sintaxis.</p>
                </li>
                <li>
                    Generaci贸n de DFD
                    <p>Una de sus caracter铆sticas m谩s valiosas es la capacidad de generar autom谩ticamente el Diagrama de Flujo de Datos (DFD) a partir del pseudoc贸digo escrito. Esto permite al estudiante ver instant谩neamente la representaci贸n gr谩fica de su l贸gica.</p>
                </li>
                <li>
                    Simulaci贸n y Depuraci贸n
                    <p>PSeInt puede **ejecutar el pseudoc贸digo paso a paso**, mostrando c贸mo cambian los valores de las variables en tiempo real. Esta simulaci贸n (depuraci贸n) es crucial para entender d贸nde y por qu茅 la l贸gica de un algoritmo podr铆a fallar.</p>
                </li>
            </ul>

            <!-- Zona de Interacci贸n para PSeInt -->
            <h3 style="margin-top: 2.5rem; color: var(--color-action);">Prueba Interactiva (Simulador PSeInt)</h3>
            <p>Usa estos simuladores para validar c贸mo las diferentes estructuras l贸gicas funcionan con valores de prueba. 隆La salida simula la consola de PSeInt!</p>
            
            <!-- Simulador 1: Suma Simple -->
            <div class="interactive-area">
                <h4>Simulador 3.1: Suma Simple (Secuencia)</h4>
                <div style="display: flex; gap: 1rem; align-items: flex-end;">
                    <div>
                        <label for="num1">N煤mero 1:</label>
                        <input type="number" id="num1" value="10" placeholder="Ingrese el primer n煤mero">
                    </div>
                    <div>
                        <label for="num2">N煤mero 2:</label>
                        <input type="number" id="num2" value="5" placeholder="Ingrese el segundo n煤mero">
                    </div>
                    <button class="action-button" onclick="runSumaSimple()">Ejecutar Suma</button>
                </div>
                <div class="interactive-output" id="output_suma">Esperando que presiones 'Ejecutar Suma' con valores.</div>
            </div>

            <!-- Simulador 2: Par o Impar -->
            <div class="interactive-area">
                <h4>Simulador 3.2: Par o Impar (Condicional)</h4>
                <div style="display: flex; gap: 1rem; align-items: flex-end;">
                    <div>
                        <label for="num_parimpar">N煤mero a verificar:</label>
                        <input type="number" id="num_parimpar" value="7" placeholder="Ingrese un n煤mero entero">
                    </div>
                    <button class="action-button" onclick="runParOImpar()">Ejecutar Condicional</button>
                </div>
                <div class="interactive-output" id="output_parimpar">Esperando que presiones 'Ejecutar Condicional' con un valor.</div>
            </div>

            <!-- Simulador 3: Bucle "Para" (PERSONALIZADO) -->
            <div class="interactive-area">
                <h4>Simulador 3.3: Bucle "Para" (Contador Personalizado)</h4>
                <p><strong>Instrucci贸n:</strong> Contar autom谩ticamente del 1 hasta el n煤mero que ingreses. **El l铆mite debe ser un n煤mero entre 1 y 100.**</p>
                <div style="display: flex; gap: 1rem; align-items: flex-end;">
                    <div>
                        <label for="num_limite">L铆mite del Contador (1 a 100):</label>
                        <input type="number" id="num_limite" value="5" min="1" max="100" placeholder="Ej: 15">
                    </div>
                    <button class="action-button" onclick="runContadorPersonalizado()">Ejecutar Bucle</button>
                </div>
                <div class="interactive-output" id="output_contador">Presiona 'Ejecutar Bucle' para ver la secuencia.</div>
            </div>
        </section>

        <!-- Secci贸n 4: Scratch - Programaci贸n Visual para Principiantes (3 Ejemplos con Im谩genes) -->
        <section id="scratch" class="component-section">
            <h2>4. Scratch: Programaci贸n Visual por Bloques</h2>
            <p>Scratch es un lenguaje de programaci贸n visual basado en bloques desarrollado por el MIT Media Lab, ideal para ni帽os y principiantes absolutos. Su enfoque es ense帽ar el pensamiento computacional y la l贸gica **sin necesidad de escribir c贸digo de texto**.</p>
            
            <p><strong>驴C贸mo se utiliza?</strong></p>
            <p>La l贸gica se construye arrastrando y soltando bloques de colores que encajan. Cada color representa una categor铆a de comandos (Movimiento, Apariencia, Control, Eventos, etc.).</p>
            <ul class="details-list">
                <li>
                    Eliminaci贸n de Errores de Sintaxis
                    <p>Al ser un sistema de bloques que solo encajan de formas v谩lidas, Scratch elimina la posibilidad de cometer errores de sintaxis, permitiendo al estudiante centrarse 100% en la l贸gica algor铆tmica.</p>
                </li>
                <li>
                    Estructuras de Control Visuales
                    <p>Las estructuras l贸gicas como el **Bucle** (bloques "Repetir" o "Por Siempre") y el **Condicional** (bloque "Si... Entonces") tienen representaciones f铆sicas (bloques con bocas o hendiduras) que hacen intuitivo ver d贸nde y cu谩ndo se ejecuta el c贸digo.</p>
                </li>
                <li>
                    Enfoque en Proyectos
                    <p>Scratch fomenta la creaci贸n de historias interactivas, juegos y animaciones, haciendo que el aprendizaje de la l贸gica sea un proceso divertido y orientado a resultados visuales inmediatos.</p>
                </li>
            </ul>
             <p style="margin-top: 1.5rem; font-style: italic;"> El sistema de bloques hace que la programaci贸n se sienta como armar un rompecabezas, donde la l贸gica es la clave para que las piezas encajen correctamente.</p>
        </section>

        <!-- Secci贸n 5: Glosario de Conceptos -->
        <section id="glosario" class="component-section">
            <h2>5. Glosario de Conceptos Clave</h2>
            
            <div class="glossary-term">
                <h3>Algoritmo</h3>
                <p>Conjunto finito y ordenado de pasos l贸gicos y no ambiguos dise帽ado para resolver un problema espec铆fico o realizar una tarea.</p>
            </div>
            
            <div class="glossary-term">
                <h3>Variable</h3>
                <p>Un espacio de memoria reservado en el programa para almacenar un valor que puede cambiar durante su ejecuci贸n (ej. la edad del usuario).</p>
            </div>
            
            <div class="glossary-term">
                <h3>Condicional (Decisi贸n)</h3>
                <p>Una estructura de control de flujo que permite al algoritmo ejecutar diferentes acciones dependiendo de si una condici贸n l贸gica es verdadera o falsa (<code>Si... Entonces</code>).</p>
            </div>
            
            <div class="glossary-term">
                <h3>Bucle (Ciclo)</h3>
                <p>Una estructura de control que permite repetir un bloque de c贸digo varias veces. Los m谩s comunes son <code>Mientras</code> y <code>Para</code>.</p>
            </div>
        </section>

        <!-- Secci贸n 6: Cuestionario Din谩mico -->
        <section id="cuestionario" class="component-section">
            <h2>6. Cuestionario de L贸gica (10 Preguntas Aleatorias)</h2>
            <p>Pon a prueba tus conocimientos con una selecci贸n de 10 preguntas diferentes cada vez que inicies o presiones "Nuevo Cuestionario".</p>
            
            <!-- Bot贸n para generar un nuevo cuestionario -->
            <button id="new-quiz-button" onclick="renderQuiz()">Generar Nuevo Cuestionario</button>

            <form id="quiz-form">
                <!-- Las preguntas se inyectar谩n aqu铆 con JavaScript -->
            </form>

            <button class="submit-button" onclick="checkQuiz()">Terminar y Revisar</button>

            <div id="results" style="display: none;"></div>
            <div id="detailed-results"></div>
        </section>

    </div>

    <!-- Footer -->
    <footer>
        <p>Taller de L贸gica de Programaci贸n EdTech &copy; 2025</p>
    </footer>

    <script>
        // Constantes de color para la salida de JS 
        const COLOR_ERROR = '#f44336'; 
        const COLOR_TEXT_DARK = '#2c3e50'; 
        const COLOR_SUCCESS = '#4caf50';
        const COLOR_PRIMARY_BLUE = '#1976d2';

        // Funciones de L贸gica de los Simuladores PSeInt
        function runSumaSimple() {
            const num1 = parseFloat(document.getElementById('num1').value);
            const num2 = parseFloat(document.getElementById('num2').value);
            const output = document.getElementById('output_suma');
            
            if (isNaN(num1) || isNaN(num2)) {
                output.textContent = "ERROR: Por favor, ingrese dos n煤meros v谩lidos.";
                output.style.color = COLOR_ERROR; 
                return;
            }

            // Proceso: suma = num1 + num2
            const suma = num1 + num2;
            
            output.textContent = `
> Ejecutando SumaSimple...
> Ingrese primer n煤mero: ${num1}
> Ingrese segundo n煤mero: ${num2}
> PROCESO: ${num1} + ${num2} = ${suma}
> La suma es: ${suma.toFixed(2)}
`;
            output.style.color = COLOR_TEXT_DARK; 
        }

        function runParOImpar() {
            const numInput = document.getElementById('num_parimpar').value;
            const num = parseInt(numInput, 10);
            const output = document.getElementById('output_parimpar');

            if (isNaN(num) || numInput.trim() === '') {
                output.textContent = "ERROR: Por favor, ingrese un n煤mero entero v谩lido.";
                output.style.color = COLOR_ERROR; 
                return;
            }

            let resultado = "";

            // L贸gica: Si num MOD 2 == 0 Entonces...
            if (num % 2 === 0) {
                resultado = "El n煤mero es Par.";
            } else {
                resultado = "El n煤mero es Impar.";
            }

            output.textContent = `
> Ejecutando ParOImpar...
> Ingrese un n煤mero: ${num}
> CONDICIONAL: ${num} MOD 2
> ${resultado}
`;
            output.style.color = COLOR_TEXT_DARK; 
        }

        function runContadorPersonalizado() {
            const limitInput = document.getElementById('num_limite').value;
            const limit = parseInt(limitInput, 10);
            const output = document.getElementById('output_contador');

            // 1. Validaciones
            if (isNaN(limit) || limitInput.trim() === '') {
                output.textContent = "ERROR: Por favor, ingrese un n煤mero entero.";
                output.style.color = COLOR_ERROR;
                return;
            }

            if (limit < 1 || limit > 100) {
                output.textContent = `ERROR: El n煤mero ingresado (${limit}) est谩 fuera del rango establecido. Por favor, ingrese un n煤mero entre 1 y 100.`;
                output.style.color = COLOR_ERROR;
                return;
            }

            // 2. Ejecuci贸n de la L贸gica (Bucle Para)
            let log = "> Ejecutando ContadorPersonalizado...\n";
            log += `> L铆mite establecido: ${limit}\n`;
            log += "> INICIO BUCLE (Para i = 1 Hasta " + limit + " Con Paso 1 Hacer):\n";

            // L贸gica: Para i = 1 Hasta [l铆mite] Con Paso 1 Hacer
            for (let i = 1; i <= limit; i++) {
                // En PSeInt la acci贸n ser铆a Escribir "Contando: ", i
                log += `  - Contando: ${i}\n`;
            }

            log += "> FIN BUCLE.";

            output.textContent = log;
            output.style.color = COLOR_TEXT_DARK;
        }

        // --------------------------------------------------------
        // Funciones del Cuestionario (Modificadas para Racionales)
        // --------------------------------------------------------

        const allQuestions = [
            {
                question: "驴Cu谩l es el objetivo principal del Pseudoc贸digo?",
                options: [
                    { text: "Ejecutar c贸digo directamente en la m谩quina.", isCorrect: false, rationale: "El pseudoc贸digo es un borrador l贸gico, no un lenguaje de ejecuci贸n para la m谩quina." },
                    { text: "Enfocarse en la l贸gica del algoritmo antes que en la sintaxis.", isCorrect: true, rationale: "El pseudoc贸digo permite planificar la soluci贸n concentr谩ndose en los pasos l贸gicos, sin preocuparse por la sintaxis estricta." },
                    { text: "Crear interfaces gr谩ficas complejas.", isCorrect: false, rationale: "Esta es una tarea de dise帽o UI/UX y lenguajes de programaci贸n espec铆ficos (como HTML/CSS/JS)." },
                    { text: "Realizar pruebas de rendimiento de software.", isCorrect: false, rationale: "Esto se hace con software especializado y en entornos de ejecuci贸n reales, no con pseudoc贸digo." }
                ]
            },
            {
                question: "驴Qu茅 s铆mbolo de DFD se utiliza para una acci贸n o c谩lculo (Proceso)?",
                options: [
                    { text: "valo", isCorrect: false, rationale: "El valo (o Terminador) solo se usa para marcar el INICIO y el FIN del algoritmo." },
                    { text: "Rombo", isCorrect: false, rationale: "El Rombo (o Decisi贸n) se usa para evaluar una condici贸n l贸gica (Si/Entonces)." },
                    { text: "Paralelogramo", isCorrect: false, rationale: "El Paralelogramo (o Entrada/Salida) se usa para Leer datos o Escribir resultados." },
                    { text: "Rect谩ngulo", isCorrect: true, rationale: "El Rect谩ngulo se utiliza para cualquier operaci贸n interna del algoritmo, como c谩lculos matem谩ticos o asignaciones de variables." }
                ]
            },
            {
                question: "驴Qu茅 estructura de control se utiliza para repetir un bloque de c贸digo varias veces?",
                options: [
                    { text: "Condicional", isCorrect: false, rationale: "La estructura condicional solo permite elegir un camino entre varios, no repetir instrucciones." },
                    { text: "Definici贸n", isCorrect: false, rationale: "La definici贸n es una etapa para declarar variables, no una estructura de control de flujo." },
                    { text: "Bucle (Ciclo)", isCorrect: true, rationale: "El bucle, o ciclo (Para, Mientras), permite ejecutar el mismo conjunto de instrucciones hasta que se cumpla una condici贸n o un n煤mero fijo de veces." },
                    { text: "Asignaci贸n", isCorrect: false, rationale: "La asignaci贸n es la acci贸n de dar un valor a una variable (ej. `x = 5`), no una estructura de repetici贸n." }
                ]
            },
            {
                question: "En pseudoc贸digo, 驴qu茅 palabra clave se utiliza t铆picamente para obtener datos del usuario?",
                options: [
                    { text: "Escribir", isCorrect: false, rationale: "La palabra 'Escribir' se usa para mostrar mensajes o resultados en la pantalla." },
                    { text: "Definir", isCorrect: false, rationale: "La palabra 'Definir' se usa para declarar las variables y su tipo de dato (Entero, Real, etc.)." },
                    { text: "Leer", isCorrect: true, rationale: "La palabra clave 'Leer' detiene la ejecuci贸n del algoritmo y espera que el usuario ingrese un valor, almacen谩ndolo en una variable." },
                    { text: "Proceso", isCorrect: false, rationale: "La palabra 'Proceso' se usa en PSeInt para englobar las instrucciones, pero no para la entrada de datos espec铆fica." }
                ]
            },
            {
                question: "驴Qu茅 significa el t茅rmino 'Algoritmo'?",
                options: [
                    { text: "Una variable que nunca cambia.", isCorrect: false, rationale: "Esto describe una constante, no un algoritmo." },
                    { text: "Un conjunto de instrucciones visuales.", isCorrect: false, rationale: "Si bien los DFD son visuales, la definici贸n de algoritmo aplica al concepto abstracto de los pasos l贸gicos." },
                    { text: "Un conjunto finito y ordenado de pasos para resolver un problema.", isCorrect: true, rationale: "Un algoritmo debe ser finito (tener fin), ordenado (pasos secuenciales) y no ambiguo para ser funcional." },
                    { text: "El resultado final de un c谩lculo.", isCorrect: false, rationale: "El resultado es la salida (Output) del algoritmo, no el algoritmo en s铆." }
                ]
            },
            {
                question: "驴Qu茅 herramienta se caracteriza por utilizar la programaci贸n visual por bloques?",
                options: [
                    { text: "PSeInt", isCorrect: false, rationale: "PSeInt utiliza pseudoc贸digo (texto), aunque puede generar DFD visuales." },
                    { text: "Pseudoc贸digo", isCorrect: false, rationale: "El pseudoc贸digo es un lenguaje escrito en texto (espa帽ol)." },
                    { text: "DFD", isCorrect: false, rationale: "El DFD usa s铆mbolos geom茅tricos para el flujo, no bloques de programaci贸n encajables." },
                    { text: "Scratch", isCorrect: true, rationale: "Scratch fue dise帽ado espec铆ficamente para que los principiantes aprendan l贸gica arrastrando y encajando bloques de c贸digo visuales." }
                ]
            },
            {
                question: "驴Qu茅 s铆mbolo de DFD representa un punto de bifurcaci贸n o Decisi贸n?",
                options: [
                    { text: "Rect谩ngulo", isCorrect: false, rationale: "El rect谩ngulo representa un proceso o c谩lculo interno." },
                    { text: "Rombo", isCorrect: true, rationale: "El Rombo eval煤a una condici贸n (ej. 驴es Par?) y bifurca el flujo a una de dos o m谩s salidas (Verdadero o Falso)." },
                    { text: "valo", isCorrect: false, rationale: "El 贸valo es el terminador (Inicio/Fin)." },
                    { text: "Flecha", isCorrect: false, rationale: "La flecha indica la direcci贸n del flujo de la l贸gica." }
                ]
            },
            {
                question: "La estructura de control 'Si... Entonces' corresponde a un:",
                options: [
                    { text: "Bucle", isCorrect: false, rationale: "El bucle se usa para repetici贸n; la estructura 'Si... Entonces' se usa para elecci贸n." },
                    { text: "Proceso", isCorrect: false, rationale: "Un proceso es una operaci贸n simple, no una estructura de control de flujo." },
                    { text: "Condicional (Decisi贸n)", isCorrect: true, rationale: "Un condicional permite tomar decisiones basadas en una condici贸n l贸gica, como 'Si hace sol, Entonces llevo gafas'." },
                    { text: "Subproceso", isCorrect: false, rationale: "Un subproceso es un bloque de c贸digo reutilizable (una funci贸n), no una decisi贸n." }
                ]
            },
            {
                question: "驴Qu茅 ventaja ofrece PSeInt a los principiantes?",
                options: [
                    { text: "Compilar a c贸digo de m谩quina.", isCorrect: false, rationale: "PSeInt es un int茅rprete de pseudoc贸digo, no un compilador para c贸digo de m谩quina profesional." },
                    { text: "Ejecutar y depurar pseudoc贸digo paso a paso.", isCorrect: true, rationale: "PSeInt permite ver exactamente c贸mo se comportan las variables en tiempo real, lo que es esencial para depurar errores de l贸gica." },
                    { text: "Dise帽ar interfaces gr谩ficas 3D.", isCorrect: false, rationale: "PSeInt se enfoca en la l贸gica algor铆tmica y la consola de texto, no en gr谩ficos avanzados." },
                    { text: "Conectarse a bases de datos grandes.", isCorrect: false, rationale: "Esta es una funci贸n de lenguajes de programaci贸n profesionales como Python o Java." }
                ]
            },
            {
                question: "El Paralelogramo en un DFD se usa para:",
                options: [
                    { text: "C谩lculos complejos.", isCorrect: false, rationale: "Los c谩lculos se realizan dentro del s铆mbolo de Rect谩ngulo (Proceso)." },
                    { text: "Asignaciones de valor.", isCorrect: false, rationale: "Las asignaciones de valor (ej. `x=1`) se hacen en el Rect谩ngulo (Proceso)." },
                    { text: "Lectura o impresi贸n de datos (Entrada/Salida).", isCorrect: true, rationale: "El Paralelogramo simboliza la interacci贸n con el exterior del algoritmo, ya sea recibiendo datos del usuario o mostrando resultados." },
                    { text: "Bifurcaci贸n de flujo.", isCorrect: false, rationale: "La bifurcaci贸n de flujo se representa con el Rombo (Decisi贸n)." }
                ]
            },
            {
                question: "驴Qu茅 tipo de dato en PSeInt se usar铆a para almacenar la edad de una persona?",
                options: [
                    { text: "Real", isCorrect: false, rationale: "El tipo Real se usa para n煤meros decimales o flotantes, como 3.14 o 15.5." },
                    { text: "L贸gico", isCorrect: false, rationale: "El tipo L贸gico (Booleano) se usa para almacenar solo Verdadero o Falso." },
                    { text: "Car谩cter", isCorrect: false, rationale: "El tipo Car谩cter se usa para almacenar una letra o un s铆mbolo, o una cadena de texto (String)." },
                    { text: "Entero", isCorrect: true, rationale: "El tipo Entero se usa para n煤meros sin decimales, que es la forma m谩s com煤n de representar la edad." }
                ]
            },
            {
                question: "驴Cu谩l es una de las principales diferencias entre el pseudoc贸digo y un lenguaje de programaci贸n real (como Python)?",
                options: [
                    { text: "El pseudoc贸digo usa estructuras de control, y Python no.", isCorrect: false, rationale: "Ambos usan estructuras de control (condicionales, bucles)." },
                    { text: "El pseudoc贸digo puede ser interpretado directamente por la computadora.", isCorrect: false, rationale: "Solo los lenguajes de programaci贸n reales son interpretados/compilados por la computadora." },
                    { text: "El pseudoc贸digo no tiene sintaxis estricta, el lenguaje real s铆.", isCorrect: true, rationale: "La principal ventaja del pseudoc贸digo es que se enfoca en la l贸gica sin la rigidez de la sintaxis del lenguaje de programaci贸n." },
                    { text: "El pseudoc贸digo solo se usa para sumas.", isCorrect: false, rationale: "El pseudoc贸digo puede modelar cualquier complejidad algor铆tmica." }
                ]
            },
            {
                question: "驴Cu谩l es el prop贸sito del bloque 'Por Siempre' en Scratch?",
                options: [
                    { text: "Ejecutar el c贸digo una sola vez.", isCorrect: false, rationale: "Esto es la funci贸n de un evento simple como 'al hacer clic en la bandera verde'." },
                    { text: "Permitir al usuario cambiar las variables.", isCorrect: false, rationale: "Esto es una funci贸n de los bloques de 'Variables' y 'Sensores'." },
                    { text: "Repetir indefinidamente las instrucciones que contiene.", isCorrect: true, rationale: "El bloque 'Por Siempre' es un bucle infinito que asegura que el c贸digo interno se ejecute continuamente (ideal para juegos y animaciones)." },
                    { text: "Detener la ejecuci贸n del programa.", isCorrect: false, rationale: "Esto se hace con el bloque 'Detener todos'." }
                ]
            },
            {
                question: "En un bucle 'Para i = 1 Hasta 5 Con Paso 2 Hacer', 驴qu茅 valores tomar谩 la variable 'i'?",
                options: [
                    { text: "1, 2, 3, 4, 5", isCorrect: false, rationale: "Esto ser铆a si el 'Paso' fuera 1 (el valor por defecto)." },
                    { text: "1, 3, 5", isCorrect: true, rationale: "Comienza en 1, incrementa 2 (llega a 3), incrementa 2 (llega a 5), y se detiene porque el siguiente paso (7) excede el l铆mite (5)." },
                    { text: "2, 4", isCorrect: false, rationale: "Esto solo ocurre si la variable comienza en 2." },
                    { text: "1, 5", isCorrect: false, rationale: "Se salta el paso intermedio (3)." }
                ]
            }
        ];

        let selectedQuestions = []; // Almacena las 10 preguntas seleccionadas al azar

        /**
         * Funci贸n gen茅rica para barajar (mezclar) un array.
         * @param {Array} array - El array a mezclar.
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // Intercambio de elementos (ES6)
            }
        }

        /**
         * Selecciona 10 preguntas al azar del pool, las renderiza y limpia el estado anterior.
         */
        function renderQuiz() {
            // 1. Limpiar resultados y ocultar
            document.getElementById('detailed-results').innerHTML = '';
            document.getElementById('results').style.display = 'none';
            document.getElementById('quiz-form').innerHTML = '';

            // 2. Seleccionar 10 preguntas al azar
            shuffleArray(allQuestions);
            selectedQuestions = allQuestions.slice(0, 10); // Tomar las primeras 10 (ya barajadas)

            const quizForm = document.getElementById('quiz-form');

            selectedQuestions.forEach((q, index) => {
                const qCard = document.createElement('div');
                qCard.classList.add('question-card');
                qCard.id = `q_card_${index}`;
                
                const qText = document.createElement('p');
                qText.textContent = `${index + 1}. ${q.question}`; 
                qCard.appendChild(qText);

                const optionsGroup = document.createElement('div');
                optionsGroup.classList.add('options-group');

                // 3. Barajar las opciones de la pregunta
                const shuffledOptions = [...q.options];
                shuffleArray(shuffledOptions);

                shuffledOptions.forEach(option => {
                    const label = document.createElement('label');
                    const input = document.createElement('input');
                    
                    input.type = 'radio';
                    input.name = `question_${index}`;
                    input.value = option.text;
                    
                    label.appendChild(input);
                    label.appendChild(document.createTextNode(option.text));
                    optionsGroup.appendChild(label);
                });

                qCard.appendChild(optionsGroup);
                quizForm.appendChild(qCard);
            });
            
             // Habilitar el bot贸n de revisi贸n
            document.querySelector('.submit-button').style.display = 'block';
        }

        /**
         * Busca el texto de la respuesta correcta.
         * @param {Array} options - Arreglo de opciones de una pregunta.
         * @returns {string} El texto de la opci贸n correcta.
         */
        function getCorrectAnswerText(options) {
            const correctOption = options.find(opt => opt.isCorrect);
            return correctOption ? correctOption.text : 'N/A';
        }
        
        /**
         * Busca la explicaci贸n (rationale) para la opci贸n seleccionada o correcta.
         * @param {Array} options - Arreglo de opciones de una pregunta.
         * @param {string} optionText - El texto de la opci贸n para buscar su racional.
         * @returns {string} La explicaci贸n o un mensaje de error.
         */
        function getRationaleForOption(options, optionText) {
            const option = options.find(opt => opt.text === optionText);
            return option ? option.rationale : 'No se encontr贸 la explicaci贸n para esta opci贸n.';
        }

        /**
         * Revisa las respuestas del usuario, calcula el puntaje y muestra los resultados detallados.
         */
        function checkQuiz() {
            let score = 0;
            const quizForm = document.getElementById('quiz-form');
            const resultsDiv = document.getElementById('results');
            const detailedResultsDiv = document.getElementById('detailed-results');
            detailedResultsDiv.innerHTML = '<h3>Revisi贸n Detallada</h3><hr style="border-color: #ddd;">';
            
            // Ocultar el bot贸n de revisi贸n despu茅s de usarlo
            document.querySelector('.submit-button').style.display = 'none';

            selectedQuestions.forEach((q, index) => {
                const questionName = `question_${index}`;
                const selectedOption = quizForm.querySelector(`input[name="${questionName}"]:checked`);
                const qCard = document.getElementById(`q_card_${index}`);
                const optionsGroup = qCard.querySelector('.options-group');
                
                let isCorrect = false;
                let userChoiceText = "No respondida";
                let correctText = getCorrectAnswerText(q.options);
                let finalRationale = "";

                // Deshabilitar radios y marcar opciones para revisi贸n visual
                optionsGroup.classList.add('reviewed');

                if (selectedOption) {
                    userChoiceText = selectedOption.value;
                    const selectedData = q.options.find(opt => opt.text === userChoiceText);
                    
                    if (selectedData && selectedData.isCorrect) {
                        score++;
                        isCorrect = true;
                        finalRationale = selectedData.rationale;
                    } else if (selectedData) {
                        finalRationale = selectedData.rationale;
                    }
                }
                
                // Si no respondi贸, usar el racional de la respuesta correcta
                if (!selectedOption) {
                    finalRationale = getRationaleForOption(q.options, correctText);
                }

                // Generar el resultado detallado
                const resultItem = document.createElement('div');
                resultItem.classList.add('result-item', isCorrect ? 'correct' : 'incorrect');
                
                resultItem.innerHTML = `
                    <h4>${index + 1}. ${q.question}</h4>
                    <span class="user-choice ${isCorrect ? '' : 'wrong'}">Tu Respuesta: ${userChoiceText}</span>
                    <span class="correct-answer">Respuesta Correcta: ${correctText}</span>
                    <p class="rationale-text"><strong>Explicaci贸n:</strong> ${finalRationale}</p>
                `;
                detailedResultsDiv.appendChild(resultItem);

                // Marcar visualmente la correcta y la del usuario
                qCard.querySelectorAll('label').forEach(label => {
                    const text = label.textContent.trim();
                    const radio = label.querySelector('input[type="radio"]');
                    if (radio) radio.disabled = true; // Deshabilitar el input

                    if (text === correctText) {
                         // Marcar Correcta
                         label.style.backgroundColor = '#dceefc';
                         label.style.fontWeight = 'bold';
                         label.style.color = COLOR_PRIMARY_BLUE;
                         label.insertAdjacentHTML('beforeend', '<span style="float:right; color: var(--color-success); font-weight: bold;">(Correcta)</span>');
                    } else if (text === userChoiceText && !isCorrect) {
                        // Marcar Incorrecta del usuario
                        label.style.backgroundColor = '#ffebee'; 
                        label.insertAdjacentHTML('beforeend', '<span style="float:right; color: var(--color-error); font-weight: bold;">(Tu Error)</span>');
                    }
                });

            });

            const totalQuestions = selectedQuestions.length;
            const percentage = (score / totalQuestions) * 100;

            resultsDiv.style.display = 'block';

            if (score === totalQuestions) {
                resultsDiv.classList.remove('result-fail');
                resultsDiv.classList.add('result-success');
                resultsDiv.textContent = `隆Felicidades! Obtuviste ${score} de ${totalQuestions} (${percentage.toFixed(0)}%). 隆Dominas el tema!`;
            } else {
                resultsDiv.classList.remove('result-success');
                resultsDiv.classList.add('result-fail');
                resultsDiv.textContent = `Tu puntaje es: ${score} de ${totalQuestions} (${percentage.toFixed(0)}%). 隆Sigue practicando!`;
            }
        }

        // Ejecutar al cargar la p谩gina para generar el cuestionario
        window.onload = function() {
            renderQuiz();
            // Inicializar salidas interactivas
            document.getElementById('output_suma').textContent = "Esperando que presiones 'Ejecutar Suma' con valores.";
            document.getElementById('output_parimpar').textContent = "Esperando que presiones 'Ejecutar Condicional' con un valor.";
            document.getElementById('output_contador').textContent = "Presiona 'Ejecutar Bucle' para ver la secuencia.";
        };
    </script>
</body>
</html>
